<ColorPickerScreen>:
    name: 'ColorPickerScreen'
    BoxLayout:
        orientation: 'vertical'

        TopBar:
            id: top_bar
            project_name: 'Color Picker'

        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            canvas.before:
                Color:
                    rgba: app.rgb_formatter([250, 235, 215, 255])
                Rectangle:
                    pos: self.pos
                    size: self.size

            ColorPickerWidget:
                id: color_picker

            BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, None
                height: self.minimum_height + dp(5)
                canvas.before:
                    Color:
                        rgba: app.rgb_formatter([80, 200, 120, 255], lighten=True, factor=0.6)
                    Rectangle:
                        pos: self.pos
                        size: self.size

                BaseLabel:
                    size_hint: 1, None
                    height: toggle_layout_btn.height
                    text: 'CSS 4 colors, commonly known as the X11 color set'

                IconButton:
                    id: toggle_layout_btn
                    pos_hint: {'center_y': .5}
                    icon: app.get_icon('grid-large')
                    label_text: 'Grid'
                    on_release: root.toggle_layout()

            ResponsiveGridView:
                id: responsive_grid
                view_class: 'ColorCard'
                item_width: dp(60)
                item_spacing: dp(20)

            TableView:
                id: table_view
                view_class: 'ColorRowItem'
                column_widths: [0, 0, 0, 0]
                column_names: ['Name', 'Color', 'Rgb', 'Hex']


<ColorCard>:
    canvas.before:
        Color:
            rgba: app.rgb_formatter(root.rgb)
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: app.rgb_formatter([0, 0, 0, 255], factor=0.5, darken=True)
        Line:
            width: dp(1)
            rectangle: (self.x, self.y, self.width, self.height)


<ColorRowItem>:
    TableViewText:
        text_val: root.name

    TableViewColor:
        color_val: app.rgb_formatter(root.rgb)

    TableViewText:
        text_val: str(root.rgb)

    TableViewText:
        text_val: root.hex

