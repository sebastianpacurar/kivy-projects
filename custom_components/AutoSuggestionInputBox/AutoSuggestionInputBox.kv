<AutoSuggestionInputBox>:
    orientation: 'vertical'
    size_hint_y: None
    height: 40

    BoxLayout:
        orientation: 'vertical'
        size_hint: 1, None
        height: self.minimum_height
        spacing: dp(3)

        # input box label
        TextLabel:
            id: box_label
            text: root.label_text
            font_size: sp(18)

        # input box
        BaseTextInput:
            id: input_field
            height: 40
            on_text: root.filter_options(self.text) # filter based on splitted option
            on_focus: root.show_options(self.focus) # add/clear dropdown option buttons
            disabled_foreground_color: 0, 0, 0, 1
            disabled: len(root.options) == 1

        # cancel button
        RelativeLayout:
            id: cancel_button
            size_hint_x: 1
            height: input_field.height
            canvas.before:
                Color:
                    rgba: 1, 0, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            IconButton:
                bg_size_val: dp(25)
                x: input_field.width - self.width - dp(2)
                y: input_field.height - input_field.height / 1.25
                icon: app.get_icon('filter-off')
                disabled: input_field.text == root.default_option
                on_release: root.reset_to_default()

# used as clickable dropdown option
<AutoSuggestionInputOption>:
    size_hint_y: None
    height: 40
    background_normal: ''
    background_color: 0.05, 0.3, 0.5, 1
    color: 1, 1, 1, 1
    font_size: sp(15)
    text_size: self.width - dp(2), None
    halign: 'center'
    valign: 'middle'

    #apply border
    canvas.before:
        Color:
            rgba: 0.07, 0.4, 0.7, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

# this will be added to Window's widgets to overlap other existent widgets in the tree
<AutoSuggestionInputDropdown>
    size_hint: None, None
    height: 225

    # using ScrollView for enhanced == False
    ScrollView:
        id: dropdown_scroll
        pos: root.pos[0], root.pos[1] - self.height
        size_hint_y: None
        height: root.height
        do_scroll_x: False
        do_scroll_y: True

        GridLayout:
            id: options_layout
            cols: 1
            size_hint_y: None
            height: self.minimum_height

    # using RecycleView for enhanced == True
    RecycleView:
        id: dropdown_recycle
        pos: root.pos[0], root.pos[1] - self.height
        viewclass: 'AutoSuggestionInputOption'
        size_hint_y: None
        height: root.height

        RecycleBoxLayout:
            orientation: 'vertical'
            default_size: None, 45
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'