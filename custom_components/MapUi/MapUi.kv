<MapUi>:
    canvas.before:
        # draw the border here
        Color:
            rgba: 0, 0, 0, 1  # black color for the border
        Line:
            width: 2  # border thickness
            rectangle: (self.x, self.y, self.width, self.height)
    BoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .5}

        MapView:
            id: map_view
            zoom: 5

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            height: reset_loc_btn.height

            canvas.before:
                Color:
                    rgba: .8, .8, .8, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            BaseButton:
                disabled: len(root.target_name) <= 0
                id: reset_loc_btn
                text: root.target_name
                size_hint: 1, None
                height: resize_btn.height if self.disabled else self.height
                on_release: root.center_map(*root.lat_long)


            IconButton:
                id: resize_btn
                pos_hint: {'center_y': .5}
                is_round: [0, 0, 0, 0]
                icon: app.get_icon('window-minimize') if root.is_fullscreen else app.get_icon('window-maximize')
                on_release: root.toggle_full_screen()


<MarkerPopupLabel>:
    text: root.label_text
    pos_hint: {'center_x': .5, 'center_y': .2}
    color: 0, 0, 0, 1
    size: self.texture_size[0] + dp(15), self.texture_size[1] + dp(5)
    canvas.before:
        Color:
            rgba: .9, .9, .9, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size

        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 1.5
            rounded_rectangle: (self.x, self.y, self.width, self.height, 10)
